<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${test.name}"></title>
    <link type="text/css" th:rel="stylesheet" href="../../static/css/global.css" th:href="@{css/global.css}">
    <link type="text/css" th:rel="stylesheet" href="../../static/css/bootstrap.css" th:href="@{css/bootstrap.css}">
    <link type="text/css" th:rel="stylesheet" href="../../static/css/global.css" th:href="@{css/global.css}">
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css}" th:rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link type="text/css" th:rel="stylesheet"
          th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css}"/>
    <!-- Google Fonts -->
    <link th:rel="stylesheet" th:href="@{https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap}"/>
    <!-- MDB -->
    <link th:rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.1.0/mdb.min.css}"/>
    <!-- MDB -->
    <script type="text/javascript"
            th:src="@{https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.1.0/mdb.min.js}"></script>

</head>
<body>
<div sec:authorize="hasAnyAuthority('ADMIN', 'TEACHER')">
    <a th:href="@{/tests/{id}/newQuestion(id = ${test.id})}">Add Question</a>
</div>
<h2 th:text="${test.name}"></h2>
<h5 th:text="${test.subject.name}"></h5>

<div class="container mt-sm-5 my-1">
    <div class="question ml-sm-5 pl-sm-5 pt-2">
        <div th:each="testQuestion : ${test.questionList}">
            <!--    <a th:text ="*{type)}"></a> <br>-->
            <div class="py-2 h5"><b>
                Q:<a th:text="${testQuestion.question}"></a> <br></b>
            </div>
            <div class="ml-md-3 ml-sm-3 pl-md-5 pt-sm-0 pt-3" th:if="${testQuestion.questionOption != null}">
                <div id="options">
                    <label class="options">
                        A) <a th:text="${testQuestion.questionOption.optionA}"></a><br>
                        <span class="checkmark"></span>
                    </label>
                    <label class="options">
                        B) <a th:text="${testQuestion.questionOption.optionB}"></a><br>
                       <span class="checkmark"></span>
                    </label>
                    <label class="options">
                        C) <a th:text="${testQuestion.questionOption.optionC}"></a><br>
                        <span class="checkmark"></span>
                    </label>
                    <label class="options">
                        D) <a th:text="${testQuestion.questionOption.optionD}"></a><br>
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>

            Correct: <a th:text="${testQuestion.correctAnswer}"></a><br>
            Subject: <a th:text="${testQuestion.learningObjective.subject.name}"></a>

            <br>
            <div sec:authorize="hasAnyAuthority('ADMIN', 'TEACHER')">
                <a th:href="@{/tests/{id}/editQuestion/{questionId}(id = ${test.id}, questionId = ${testQuestion.id})}">Edit</a>
                <a th:href="@{/tests/{id}/deleteQuestion/{questionId}(id = ${test.id}, questionId = ${testQuestion.id})}">Delete</a>
            </div>

            <br><br>

        </div>
    </div>


</div>
</body>
</html>